---
layout: post
title:  "关于使用 Jmeter 进行压力测试"
date:   2021-03-25 10:52:00 +0800
categories: Loadtest Jmeter
tags: Loadtest 2021 Jmeter
toc: true
---

> 记录使用 Jmeter 进行压测的一些关注点

<img class="logo" src="/img/jmeter-logo.svg" alt="Apache JMeter">

---
## 分布式压测

### 配置文件

<br>
使用 Jmeter 压测时，压力机一般是部署在 Linux 上的，
如果是分布式压测，需要修改master和slave机器上的
 **Jmeterpath/bin** 目录下的
**jmeter.properties** 文件

直接将下面这句加到 **jmeter.properties** 文件

```
server.rmi.ssl.disable=true
```

否则会出现如下错误
```
Exception creating connection to:192.16.*.*;nested exception is:java.io.FileNotFoundException:rmi_keystore.jks
```

### 数据文件
<br>
如果使用 csv 文件存储数据，需要把数据文件在每台执行机上拷贝一份，
且**必须**放在相同绝对路径下。

## 脚本文件

### 线程组
<br>

<img src="/img/ThreadGroup.jpg">

线程组中主要关注**线程数**、**Ramp-up 时间**以及**调度器**。

- **线程数** 就是你的单台压力机并发数，如果是分布式压测，那么有 N 台压力机，
并发数就是 **N * 线程数**
- **Ramp-up 时间** 表示启动上面线程数所需的时间
- **调度器** 设置压力持续时间