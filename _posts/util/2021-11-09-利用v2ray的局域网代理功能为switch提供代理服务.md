---
layout: post
title:  "利用 v2ray 的局域网连接功能为 switch 提供代理服务"
date:   2021-11-09 16:04:00 +0800
categories: 工具
tags:  2021 工具 
toc: true
---

> 巴西区我来啦~

最近入手了一台日版 switch，可是因为众所周知的网络原因，eshop 无法直接访问，网络问题也基本上是每一个海外版主机玩家必须要面对的问题，除非你是卡带党（那不如买国行）。

在网上搜索了一下，大多数都是建议买游戏加速器，可这样一来不就浪费了我自己的梯子吗？但是在看了一些加速器的使用方法之后我突然意识到，这好像就是搞了一个局域网代理，那我正在用的 v2rayN 也能提供这个服务啊。

于是我就想到了这个方法，可以让我的 switch 在 v2ray 的局域网中获得代理服务。

实测，无论是 Windows、MacOS、Android 还是 iOS，目前各个客户端都是支持开启局域网连接的。

这里以 Windows 为例，我们先来看看如何使用 v2rayN 开启局域网连接。


### 开启局域网代理

点击顶部的“参数设置”，在打开的窗口中，点击“v2rayN设置”，再勾选“允许来自局域网的连接”，然后点击“确定”。

![开启局域网代理](/img/v2rayN.png)

### 获取代理端口

在完成上一步的操作之后，我们就可以在软件的下面看到 http 代理的端口信息了，这里是 `10809`，记住它，我们将在下面的步骤中使用它。

![获取端口](/img/v2rayN-port.png)

### 获取本机局域网 IP

这个打开命令行，执行一下 `ipconfig` 即可获取。

比如我是使用的有线连接，那么我的局域网 IP 就是下面的 IPv4 地址：192.168.110.86 

```
以太网适配器 以太网:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::7553:42d4:ca30:aab1%8
   IPv4 地址 . . . . . . . . . . . . : 192.168.110.86
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . : 192.168.110.252
```

剩下的操作就都是在 switch 完成啦

### 设置 switch 的代理

在首页点击“设置”，选择“网络连接”，选择已连接的网络，点击“更改设置”，找到代理设置，点击“添加代理”，输入上面获取的地址、端口，然后点击“确定”。

![]()

enjoy it!