---
layout: post
title:  "Shell 学习笔记"
date:   2021-04-18 16:25:00 +0800
categories: Shell
tags: study 2021
toc: true
---


##### 简介
> Shell 学习过程中的一些记录

- 使用双括号进行整数运算

```shell
echo $((20+30))
# 50
```

##### 变量替换

- 数据删除

```shell
var_1='i love you do you love me'

# ${variableName#rule} 从变量开头进行规则匹配，将符合最短的数据删除
echo ${var_1#*ov} # e you do you love me
# ${variableName##rule} 从变量开头进行规则匹配，将符合最长的数据删除--贪婪模式
echo ${var_1##*ov} # e me

# ${variableName%rule} 从变量尾部进行规则匹配，将符合最短的数据删除
echo ${var_1%ov*} # i love you do you l
# ${variableName%%rule} 从变量尾部进行规则匹配，将符合最长的数据删除--贪婪模式
echo ${var_1%%ov*} # i l
```

- 数据替换

```shell
var_1='i love you do you love me'

# ${variableName/oldString/newString} 匹配到的第一个旧字符串会被新字符串取代
echo ${var_1/ov/vo} # i lvoe you do you love me
# ${variableName//oldString/newString} 匹配到的所有旧字符串会被新字符串取代
echo ${var_1//ov/vo} # i lvoe you do you lvoe me
```

##### 数据处理

- 计算字符串长度

```shell
var_1='i love you do you love me'

echo ${#var_1} # 25
len=`expr length "$var_1"`
echo $len # 25
```

- 截取字符串

```shell
# 抽取子串
# 方法一：
# 1、 ${string:position} 从指定位置开始提取
# 2、 ${string:position:length}  从指定位置开始提取并指定长度
# 3、 ${string: -position} 从尾部开始提取
# 4、 ${string:(position)} 同上
# 方法二
# expr substr $string $position $length  # substr是固定的关键字
```

##### 命令替换

```shell
echo date # date
echo `date +%Y` # 2021
echo $(date)   # 2021年 4月21日 星期三 00时44分02秒 CST

# (()) 双括号主要用来进行整数运算
echo $((20+30)) # 50
```